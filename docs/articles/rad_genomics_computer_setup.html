<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RADseq genomics in R • assigner</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RADseq genomics in R">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assigner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Installation</a>
</li>
<li>
  <a href="../FEATURES.html">Features</a>
</li>
<li>
  <a href="../articles/get_started.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/get_started.html">Get started</a>
    </li>
    <li>
      <a href="../articles/fst_confidence_intervals.html">Fst analysis</a>
    </li>
    <li>
      <a href="../articles/web_only/fst_comparisons.html">Comparisons of Fst in 8 packages/software</a>
    </li>
    <li>
      <a href="../articles/assignment.whitelists.html">Using whitelists in assignment</a>
    </li>
    <li>
      <a href="../articles/rad_genomics_computer_setup.html">Computer setup - Installation - Troubleshooting</a>
    </li>
    <li>
      <a href="../articles/life_cycle.html">Life cycle</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thierrygosselin/assigner">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>RADseq genomics in R</h1>
            <h3 class="subtitle">computer setup</h3>
            
            <h4 class="date">2020-03-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/thierrygosselin/assigner/blob/master/vignettes/rad_genomics_computer_setup.Rmd"><code>vignettes/rad_genomics_computer_setup.Rmd</code></a></small>
      <div class="hidden name"><code>rad_genomics_computer_setup.Rmd</code></div>

    </div>

    
    
<p><strong>Time to allow: ETA ~20 min</strong></p>
<p>This vignette purposes is to show users how to setup their computers for RADseq genomic analysis inside R. It targets users of my packages or workshops.</p>
<p>The vignette as an <code>Installation problems</code> section, browse through it if your experiencing installation issues.</p>
<p>The vignette is also usefull if your:</p>
<ul>
<li>conducting imputations</li>
<li>using simulations with <code>grur</code> and it’s dependencies or simulations with <code>strataG</code>.</li>
<li>specific installation instructions for:</li>
<li><code>rmetasim</code></li>
<li><code>XGBoost</code></li>
<li><code>LightGBM</code></li>
<li><code>randomForestSRC</code></li>
<li><code>ranger</code></li>
<li><code>missRanger</code></li>
<li><code>pcaMethods</code></li>
<li>how to <strong>OpenMP enabled</strong> specific packages that require to run in parallel for the imputations.</li>
</ul>
<p>I’m currently merging information also found in this <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html">tutorial</a></p>
<div id="macos" class="section level1">
<h1 class="hasAnchor">
<a href="#macos" class="anchor"></a>macOS</h1>
<p><strong>Warning: package management software <em>Homebrew</em> and/or <em>MacPorts</em> :</strong> My experience with these packages is that at some point they will be unreliable with genomic software installation. It might do the trick for some software, but eventually you will loose a lot of time trying to figure out what’s your problem.</p>
<div id="update-your-os" class="section level2">
<h2 class="hasAnchor">
<a href="#update-your-os" class="anchor"></a>Update your OS</h2>
<ul>
<li>the current version is macOS Catalina 10.15</li>
<li><a href="http://support.apple.com/kb/HT1338?viewlocale=en_US&amp;locale=en_US">how to update</a></li>
</ul>
</div>
<div id="get-administrator-and-root-user-access" class="section level2">
<h2 class="hasAnchor">
<a href="#get-administrator-and-root-user-access" class="anchor"></a>Get administrator and root user access</h2>
<p>Make sure you have administrator and root user access to your computer <a href="https://support.apple.com/en-ca/HT204012">how</a>.</p>
</div>
<div id="apples-command-line-tools" class="section level2">
<h2 class="hasAnchor">
<a href="#apples-command-line-tools" class="anchor"></a>Apple’s Command Line Tools</h2>
<p>Make sure it’s installed…if not, follow instructions. Although the prompt message may be a bit confusing, just click <strong>install</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="ex">xcode-select</span> --install</a></code></pre></div>
<p>In the finder using keyboard shorcut <code>cmd+shift+g</code> go to: <code>/Library/Developer/CommandLineTools/Packages/</code> and double click on <code>macOS_SDK_headers_for_macOS_10.14.pkg</code> to install.</p>
<p><strong>Notes:</strong></p>
<ul>
<li>If command line tools is already installed you’ll get this message <code>xcode-select: error: command line tools are already installed, use "Software Update" to install updates</code>
</li>
<li>to test if you have a compiler, you can also type: <code>make</code> in the terminal</li>
<li>
<code>./configure</code>: configure everything before installation</li>
<li>
<code>make</code>: connect libraries and the source before make install (<a href="http://www.gnu.org/software/make/manual/make.html">doc</a>)</li>
<li>
<code>make install</code>: use to build (compile) source code to create binary files and install the application on our system as configured using <code>./configure</code>, usually in <code>/usr/local/bin</code>.</li>
<li>
<a href="https://thoughtbot.com/blog/the-magic-behind-configure-make-make-install">Reading</a>: to understand the basic steps to install software with the terminal (<em>configure</em>, <em>make</em> and <em>sudo make install</em> steps)</li>
<li>for more <em>curl</em> option type <code>curl -h</code>
</li>
</ul>
</div>
<div id="compiler" class="section level2">
<h2 class="hasAnchor">
<a href="#compiler" class="anchor"></a>Compiler</h2>
<p>Apple can’t ship GNU <a href="http://en.wikipedia.org/wiki/Compiler">Compiler</a> Collection (GCC) with OpenMP enabled, similar story with <a href="http://en.wikipedia.org/wiki/Clang">Clang</a> the other compiler used in macOS. Consequently, both need to be updateed manually if you want to run software that ues parallel computing (like stacks).</p>
<p>The command below fro both GCC and Clang will:</p>
<ul>
<li>change directory to your downloads</li>
<li>download the compiler’s binaries</li>
<li>uncompress and move folders (<code>bin</code>, <code>include</code>, <code>lib</code>, <code>libexec</code> and <code>share</code>) of the compiler on your computer <code>/usr/local</code> directory.</li>
<li>remove the downloaded file</li>
<li>check the version of gcc</li>
</ul>
<div id="update-gcc" class="section level3">
<h3 class="hasAnchor">
<a href="#update-gcc" class="anchor"></a>Update GCC</h3>
<p>Choose the binary version number based on your OS and change the version accordingly <a href="http://hpc.sourceforge.net">link</a>.</p>
<p><strong>Catalina</strong> <a href="http://prdownloads.sourceforge.net/hpc/gcc-9.2-bin.tar.gz">gcc-9.2-bin.tar.gz</a> <strong>Mojave</strong> <a href="http://prdownloads.sourceforge.net/hpc/gcc-8.3-bin.tar.gz">gcc-8.3.tar.gz</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="fu">sudo</span> tar -zxvf gcc-9.2-bin.tar.gz -C /usr/local --strip-components=2</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="fu">sudo</span> rm gcc-9.2-bin.tar.gz</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="fu">gcc</span> -v</a></code></pre></div>
</div>
<div id="update-clang" class="section level3">
<h3 class="hasAnchor">
<a href="#update-clang" class="anchor"></a>Update Clang</h3>
<p>We want <a href="https://en.wikipedia.org/wiki/Clang">clang</a> compiler with OpenMP enabled.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co">#In browser</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="ex">http</span>://releases.llvm.org/9.0.0/clang+llvm-9.0.0-x86_64-darwin-apple.tar.xz</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="fu">sudo</span> tar -xzvf clang+llvm-9.0.0-x86_64-darwin-apple.tar.xz -C/usr/local --strip-components=1</a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="fu">sudo</span> rm clang+llvm-9.0.0-x86_64-darwin-apple.tar.xz</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="fu">clang</span> -v</a></code></pre></div>
</div>
</div>
<div id="path" class="section level2">
<h2 class="hasAnchor">
<a href="#path" class="anchor"></a>PATH</h2>
<p>The shell start up script and PATH to programs**</p>
<p>To make things a little easier to talk to your computer, each time you open the <em>Terminal</em> a <a href="http://en.wikipedia.org/wiki/Bash_(Unix_shell)">shell start up scripts</a> tells your computer where to look for programs. The path for your programs can be modified in your shell start up script. When your computer is searching for programs, it looks into these <a href="http://en.wikipedia.org/wiki/PATH_(variable)">path</a>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="va">$PATH</span></a></code></pre></div>
<p>The output should look like this: <code>/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin</code>. But sometimes, it will also say: <code>No such file or directory</code> (no worries, see below).</p>
<p>Use the <code>pwd</code> command to know exactly where you are!</p>
<p>The name of the shell startup file differs across platforms. Depending on OS it is called <strong>~/.bash_profile</strong> and sometimes <strong>~/.profile</strong>. Filename beginning with a dot “.” are reserved for the system and are <strong>invisible</strong> in the mac Finder.</p>
<p>Find your shell start up script with the following command:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="fu">ls</span> -al ~ <span class="kw"><a href="https://rdrr.io/r/base/Logic.html">|</a></span> <span class="fu">grep</span> profile</a></code></pre></div>
<p>If this returns nothing (blank), you don’t have a shell start up script. Create one with this command</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="fu">sudo</span> touch <span class="va">$HOME</span>/.bash_profile</a></code></pre></div>
<p>To modify, you can use <a href="http://www.barebones.com/products/bbedit/index.html">BBEdit</a> to open or make and modify hidden items (using the option <em>Show hidden items</em> on the open file screen). With Linux, use Vi!</p>
<p>Copy/paste the line below in your <code>.bash_profile</code> file:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="va">PATH=</span><span class="st">"</span><span class="va">$PATH</span><span class="st">:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/bin"</span></a></code></pre></div>
<p>After modifying your shell start up script always run the command <code>source .bash_profile</code> to reload it.</p>
</div>
<div id="useful" class="section level2">
<h2 class="hasAnchor">
<a href="#useful" class="anchor"></a>Useful</h2>
<p>Below are useful but not essential software you will like to have on your mac.</p>
<div id="wget-utility" class="section level3">
<h3 class="hasAnchor">
<a href="#wget-utility" class="anchor"></a><a href="https://www.gnu.org/software/wget/">wget</a> utility</h3>
<p>This software is similar to curl that is already on your Mac, it’s also good to have it. This will help you save a lot of time in the future.</p>
<p><strong>Option 1: trouble-free install</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb10-2" data-line-number="2"><span class="ex">curl</span> -O https://raw.githubusercontent.com/rudix-mac/packages/master/10.12/wget-1.18-0.pkg</a>
<a class="sourceLine" id="cb10-3" data-line-number="3"><span class="co"># Go in your Downloads folder double-click on the wget file and follow the instructions</span></a></code></pre></div>
<p><strong>Option 2: from source</strong></p>
<p>Install <a href="http://www.gnutls.org">gnutls</a> dependency</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># for novice user: copy one line at a time in the Terminal:</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="ex">curl</span> -O http://www.gnupg.org/ftp/gcrypt/gnutls/v3.5/gnutls-3.5.18.tar.xz</a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="fu">tar</span> -zxvf gnutls-3.5.18.tar.xz</a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="bu">cd</span> gnutls-3.5.18</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="ex">./configure</span> --with-included-libtasn1 --without-p11-kit</a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co">#Forget about the remaining warnings and proceed with `make`</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="fu">make</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="fu">sudo</span> make install</a></code></pre></div>
<p>Now the wget part…</p>
<p>First look for the <em>.tar.gz</em> file with the latest release (currently: wget2-1.99.2.tar.gz) in this <a href="%3Chttp://ftp.gnu.org/gnu/wget/">folder</a>, Modify (if you need to), Copy &amp; Paste the commands below (one line at a time):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># change the '-x.xx.tar.gz' number below with the latest release version.</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="ex">curl</span> -O http://ftp.gnu.org/gnu/wget/wget2-1.99.2.tar.gz</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="fu">tar</span> -zxvf wget2-1.99.2.tar.gz</a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="bu">cd</span> wget2-1.99.2</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="ex">./configure</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="fu">make</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="fu">sudo</span> make install                     # will prompt you to enter your password</a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="bu">cd</span> ..                                 # goes up to the enclosing directory</a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="fu">wget</span> --help                           # to test installation!</a></code></pre></div>
<p>Note:</p>
<p>To remove a folder and downloaded packages use the <code>sudo rm -R</code> command, but be very careful with this command because the content is deleted FOREVER, it doesn’t go in the trash…</p>
<p>Delete the wget folder and package using <code>sudo rm -R wget*</code>.</p>
</div>
<div id="bbedit" class="section level3">
<h3 class="hasAnchor">
<a href="#bbedit" class="anchor"></a><a href="http://www.barebones.com/products/bbedit/index.html">BBEdit</a>
</h3>
<p>This is TextWrangler replacement and is a free text editor that will help you save time. Once installed, go in the <code>Apple Menu bar -&gt; BBEdit -&gt; Install Command Line</code></p>
</div>
<div id="pip" class="section level3">
<h3 class="hasAnchor">
<a href="#pip" class="anchor"></a><a href="https://pip.pypa.io/en/stable/">pip</a>
</h3>
<p>This is a Python installer tool that I highly recommend. To install or upgrade pip, securely download <a href="https://bootstrap.pypa.io/get-pip.py">get-pip.py</a>.</p>
<p>Run this from you Terminal:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="fu">sudo</span> python get-pip.py</a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="ex">pip</span> install -U pip   # to upgrade</a></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="fu">sudo</span> rm -R ~/Downloads/get-pip.py <span class="co"># to remove the downloaded file</span></a></code></pre></div>
</div>
</div>
</div>
<div id="linux" class="section level1">
<h1 class="hasAnchor">
<a href="#linux" class="anchor"></a>Linux</h1>
<p>Make sure you have GCC and CLANG with OpenMP enabled. Several flavors available, check for the proper <a href="http://releases.llvm.org/download.html">link</a></p>
</div>
<div id="install-r" class="section level1">
<h1 class="hasAnchor">
<a href="#install-r" class="anchor"></a>Install R</h1>
<p>To install R v3.6.1 <strong>“Action of the Toes”</strong> released on 2019-07-05 download the installer and follow the instructions</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="fu">wget</span> https://cran.r-project.org/bin/macosx/R-3.6.1.pkg</a></code></pre></div>
<p><strong>To remove R completely from macOS</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="fu">sudo</span> rm -rf /Library/Frameworks/R.framework /Applications/R.app \</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">/usr/bin/R /usr/bin/Rscript</a></code></pre></div>
</div>
<div id="rstudio" class="section level1">
<h1 class="hasAnchor">
<a href="#rstudio" class="anchor"></a>Rstudio</h1>
<p>To download RStudio, check this <a href="https://www.rstudio.com/products/rstudio/download/#download">link</a> and download the installer for your OS.</p>
</div>
<div id="makevars-file" class="section level1">
<h1 class="hasAnchor">
<a href="#makevars-file" class="anchor"></a>Makevars file</h1>
<p>You need to tell R how to use the compilers. This might change from one package to another. Nothing is simple, you know this by now… All this is done through R’s <strong>Makevars</strong> file located in <code>~/.R/Makevars</code>.</p>
<p>To modify or create the file, the fastest way is to use the package <a href="https://usethis.r-lib.org">usethis</a> (it’s installed automatically with <code>devtools</code>):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1">usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_makevars</a></span>()</a></code></pre></div>
<p><strong>Makevars content required:</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="va">FC=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="va">F77=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="ex">PKG_LIBS</span> = -fopenmp -lgomp</a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="va">PKG_CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="va">PKG_CXXFLAGS=</span>-fopenmp <span class="ex">-std</span>=c++11</a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="va">CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="ex">SHLIB_OPENMP_CFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="ex">SHLIB_OPENMP_CXXFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="ex">SHLIB_OPENMP_FCFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="ex">SHLIB_OPENMP_FFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb19-13" data-line-number="13"><span class="va">FLIBS=</span>-L/usr/local/lib/gcc/x86_64-apple-darwin15.6.0/7.1.0/finclude <span class="co"># change according to your computer compiler version</span></a>
<a class="sourceLine" id="cb19-14" data-line-number="14"><span class="va">CFLAGS=</span>-mtune=<span class="ex">native</span> -g -O2 -Wall -pedantic -Wconversion</a>
<a class="sourceLine" id="cb19-15" data-line-number="15"><span class="va">CXXFLAGS=</span>-mtune=<span class="ex">native</span> -g -O2 -Wall -pedantic -Wconversion</a></code></pre></div>
</div>
<div id="installing-libraries" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-libraries" class="anchor"></a>Installing Libraries</h1>
<p>Below is how I setup most of my computers after a clean macOS install. I start with <strong>devtools</strong> and <strong>tidyverse</strong> than <strong>grur</strong> my packge with the higher number of dependencies, this way it’s installing automatically 90% of the packages I need (including <strong>radiator</strong>).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="st">"devtools"</span>)) <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>) <span class="co"># to install</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"tidyverse"</span>)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"thierrygosselin/grur"</span>)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"thierrygosselin/assigner"</span>)</a></code></pre></div>
</div>
<div id="Installation_problems" class="section level1">
<h1 class="hasAnchor">
<a href="#Installation_problems" class="anchor"></a>Installation problems</h1>
<p>Sometimes you’ll get warnings while installing dependencies required for <em>x</em> package.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co">#Warning: cannot remove prior installation of package ‘stringi’</span></a></code></pre></div>
<p>To solve this problem, delete manually the problematic package in the installation folder (on mac: <code>/Library/Frameworks/R.framework/Resources/library</code>) or in the <code>Terminal</code>:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="fu">sudo</span> rm -R /Library/Frameworks/R.framework/Resources/library/package_name</a>
<a class="sourceLine" id="cb22-2" data-line-number="2"><span class="co"># Changing 'package_name' to the problematic package.</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3"><span class="co"># Reinstall the package.</span></a></code></pre></div>
<ul>
<li><p>Using the latest version of R, RStudio and packages is recommended. If your heart start pounding just at the thought of having to install a new R version, you should have a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/">packrat</a>.</p></li>
<li><p>Look at the output in R console when you get an error message. If it’s related to one’s of the packages dependencies, try installing it separately before attempting to reinstall the problematic package.</p></li>
</ul>
<div id="error-saying-https-not-supported-or-disabled-in-libcurl" class="section level2">
<h2 class="hasAnchor">
<a href="#error-saying-https-not-supported-or-disabled-in-libcurl" class="anchor"></a>Error saying “https” not supported or disabled in libcurl</h2>
<div id="installing-openssl" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-openssl" class="anchor"></a>Installing OpenSSL</h3>
<p>Required if GCC compiler is used (TLS backend is then used). Not required if clang is used (securetransport backend is used).</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co">#In browser</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2"><span class="ex">https</span>://www.openssl.org/source/openssl-1.1.1.tar.gz</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="fu">tar</span> -zxvf openssl-1.1.1.tar.gz</a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="bu">cd</span> openssl-1.1.1</a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="ex">./config</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="fu">make</span> -j12 <span class="co">#change with your number of CPU</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="fu">make</span> test <span class="co">#long</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb23-12" data-line-number="12"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb23-13" data-line-number="13"><span class="fu">sudo</span> rm -R openssl*</a></code></pre></div>
</div>
<div id="installing-curl" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-curl" class="anchor"></a>Installing <a href="https://curl.haxx.se/download">curl</a>
</h3>
<p>Check for the latest release of <a href="https://curl.haxx.se/download">curl</a></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co">#Copy/paste in your browser</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2"><span class="ex">https</span>://curl.haxx.se/download/curl-7.61.1.tar.gz</a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="co"># Terminal</span></a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb24-5" data-line-number="5"><span class="fu">tar</span> -zxvf curl-7.61.1.tar.gz</a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="bu">cd</span> curl-7.61.1</a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="ex">./configure</span> --with-ssl <span class="co"># to enable https via OpenSSL and using GCC</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="co">#CC="/usr/local/bin/clang" ./configure --without-ssl --with-darwinssl # to install via clang</span></a>
<a class="sourceLine" id="cb24-9" data-line-number="9"><span class="fu">make</span> -j12 <span class="co">#change with your number of CPU</span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="fu">sudo</span> rm -R curl*</a></code></pre></div>
</div>
</div>
<div id="linux-related-problem" class="section level2">
<h2 class="hasAnchor">
<a href="#linux-related-problem" class="anchor"></a>Linux related problem</h2>
<p>If you have an install problem, the problem might be very computer-specific. e.g. if the problem is related to <code>strataG</code>, <code>copula</code> and/or <code>gsl</code>, try installing <code>libgsl0-dev</code> in the <strong>Terminal</strong> (very easy now with the latest RStudio release!):</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="fu">sudo</span> apt-get install libgsl0-dev</a></code></pre></div>
</div>
<div id="Renviron" class="section level2">
<h2 class="hasAnchor">
<a href="#Renviron" class="anchor"></a>Error saying: <code>Error: vector memory exhausted (limit reached)</code>
</h2>
<p>Check that you have a file called <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/files.html">file.exists</a></span>(<span class="st">"~/.Renviron"</span>)</a></code></pre></div>
<p>If you dont have the file:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="bu">cd</span> ~</a>
<a class="sourceLine" id="cb27-3" data-line-number="3"><span class="fu">touch</span> .Renviron</a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="fu">sudo</span> nano .Renviron</a></code></pre></div>
<p>Add this to your <code>.Renviron</code> file located in <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="ex">R_MAX_VSIZE</span> = 100Gb </a></code></pre></div>
<p>Use BBEdit or other software that allows you to see hidden files starting with a <strong>dot</strong></p>
</div>
<div id="error-during-package-installation" class="section level2">
<h2 class="hasAnchor">
<a href="#error-during-package-installation" class="anchor"></a>Error during package installation</h2>
<ul>
<li>Problem with <code>string.h</code>, <code>math.h</code> or any other <code>.h</code>
</li>
<li>Problem with <code>vroom</code>
</li>
<li>Problem with <code>rmetasim</code>
</li>
</ul>
<p>An example during <code>vroom</code> installation:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="fu">clang</span>++ -std=gnu++11 -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include  -Imio/include -DWIN32_LEAN_AND_MEAN -Ispdlog/include -fPIC  -Wall -g -O2 -c gen.cc -o gen.o</a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="fu">clang</span>++ -std=gnu++11 -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include  -Imio/include -DWIN32_LEAN_AND_MEAN -Ispdlog/include -fPIC  -Wall -g -O2 -c index_collection.cc -o index_collection.o</a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="ex">/usr/local/bin/clang</span> -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include   -fPIC  -I/usr/local/include -c localtime.c -o localtime.o</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="ex">localtime.c</span>:42:10: fatal error: <span class="st">'string.h'</span> file not found</a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="co">#include &lt;string.h&gt;</span></a>
<a class="sourceLine" id="cb29-6" data-line-number="6">^<span class="ex">~~~~~~~~~</span></a></code></pre></div>
<p><strong>With macOS:</strong></p>
<ul>
<li>version 10.14, do this:</li>
</ul>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="fu">sudo</span> installer -pkg \</a>
<a class="sourceLine" id="cb30-2" data-line-number="2">/Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg \</a>
<a class="sourceLine" id="cb30-3" data-line-number="3">-target /</a></code></pre></div>
<ul>
<li>version <strong>10.15 (Catalina)</strong>: follow the <code>.Makevars</code> <a href="#Makevars_config">configuration</a>
</li>
</ul>
</div>
<div id="error--setmaxglobalsize" class="section level2">
<h2 class="hasAnchor">
<a href="#error--setmaxglobalsize" class="anchor"></a>Error <code>.setMaxGlobalSize</code>
</h2>
<p>Its a problem with a previous version of <code>pbmcapply</code> and it’s interaction with <code>future</code>.</p>
<p><strong>Solution:</strong></p>
<ul>
<li>restart your computer</li>
<li>with a clean desk and session: open RStudio and update your packages</li>
<li>Restart R (<code>RStudio &gt; Session &gt; Restart R</code>)</li>
<li>Re-install my github package generating the error</li>
</ul>
<p><em>Note:</em> if your heart start pounding just at the thought of having to update everything on your computer you should definitely have a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/">packrat</a>: it’s very easy to use.</p>
</div>
<div id="error-in--dynamicclustercall" class="section level2">
<h2 class="hasAnchor">
<a href="#error-in--dynamicclustercall" class="anchor"></a>Error in <code>.DynamicClusterCall</code>
</h2>
<p>If you have a PC and you’re getting this error or closely related error:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># Error in .DynamicClusterCall(cl, length(cl), .fun = function(.proc_idx,  :</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="co"># One of the nodes produced an error: Can not open file 'FILE PATH'. The process cannot access the file because it # is being used by another process.</span></a></code></pre></div>
<p><strong>Solution:</strong> Use <code>parallel.core = 1</code> in the function generating the error.</p>
</div>
<div id="error-during-install-when-numerous-of-packages-are-updated" class="section level2">
<h2 class="hasAnchor">
<a href="#error-during-install-when-numerous-of-packages-are-updated" class="anchor"></a>Error during install when numerous of packages are updated:</h2>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># Error in get0(oNam, envir = ns) :</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="co"># lazy-load database '/Library/Frameworks/R.framework/Versions/3.5/Resources/library/callr/R/callr.rdb' is corrupt</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="co"># In addition: Warning message:</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="co"># In get0(oNam, envir = ns) : internal error -3 in R_decompress1</span></a></code></pre></div>
<p><strong>Solution:</strong></p>
<ol style="list-style-type: decimal">
<li>restart R</li>
<li>re-install the package that generated this error</li>
</ol>
</div>
<div id="error-with-dyn-load" class="section level2">
<h2 class="hasAnchor">
<a href="#error-with-dyn-load" class="anchor"></a>Error with <code>dyn.load</code>
</h2>
<p>Here is an example below:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="ex">Error</span> in dyn.load(file, DLLpath = DLLpath, ...) <span class="bu">:</span> </a>
<a class="sourceLine" id="cb33-2" data-line-number="2">  <span class="ex">unable</span> to load shared object <span class="st">'/home/rstudio/R/x86_64-pc-linux-gnu-library/3.6/units/libs/units.so'</span>:</a>
<a class="sourceLine" id="cb33-3" data-line-number="3">  <span class="ex">libudunits2.so.0</span>: cannot open shared object file: No such file or directory</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"><span class="ex">Calls</span>: <span class="op">&lt;</span>Anonymous<span class="op">&gt;</span> ... asNamespace -<span class="op">&gt;</span> loadNamespace -<span class="op">&gt;</span> library.dynam -<span class="op">&gt;</span> dyn.load</a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="ex">Execution</span> halted</a></code></pre></div>
<p><strong>Solution:</strong></p>
<ol style="list-style-type: decimal">
<li>In R, check the output of this command that look for the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html">environment variables</a>:</li>
</ol>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Sys.getenv.html">Sys.getenv</a></span>(<span class="st">"LD_LIBRARY_PATH"</span>)</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co"># [1]""</span></a></code></pre></div>
<p>Note that if the output is not empty, like in the example above, write down the output.</p>
<ol start="2" style="list-style-type: decimal">
<li>Set the new <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html">environment variables</a> by adding <code>/usr/local/lib/</code> to the output above:</li>
</ol>
<p>When it’s empty:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="co"># in R:</span></a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span>(<span class="dt">LD_LIBRARY_PATH=</span><span class="st">"/usr/local/lib/"</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="co"># For Linux you could use: /usr/local/lib/:/usr/lib64 </span></a></code></pre></div>
<p>When it’s not, add at the end, separated by <code>:</code></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span>(<span class="dt">LD_LIBRARY_PATH=</span><span class="st">"/usr/local/lib64/R/lib::/lib:/usr/local/lib64:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.222.b10-0.amzn2.0.1.x86_64/jre/lib/amd64/server:/usr/local/lib/:/usr/lib64"</span>)</a></code></pre></div>
<p><strong>Long-term solution:</strong></p>
<p>Instead of using <code>Sys.setenv</code> each time you have a similar problem, you could add the <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/EnvVar.html">environment variables</a> <code>LD_LIBRARY_PATH</code> to your <code>.Renviron file</code>. <a href="#Renviron">This is discussed in another problem above</a>.</p>
</div>
<div id="google-is-your-next-best-friend" class="section level2">
<h2 class="hasAnchor">
<a href="#google-is-your-next-best-friend" class="anchor"></a>Google is your next best friend…</h2>
</div>
</div>
<div id="specific-librairies-installation" class="section level1">
<h1 class="hasAnchor">
<a href="#specific-librairies-installation" class="anchor"></a>Specific librairies installation</h1>
<div id="rmetasim" class="section level2">
<h2 class="hasAnchor">
<a href="#rmetasim" class="anchor"></a><code>rmetasim</code>
</h2>
<div id="download" class="section level3">
<h3 class="hasAnchor">
<a href="#download" class="anchor"></a>Download</h3>
<p>Download the latest github release of Allan Strand’s <strong>rmetasim</strong></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="fu">wget</span> --no-check-certificate https://github.com/stranda/rmetasim/archive/master.zip</a>
<a class="sourceLine" id="cb37-3" data-line-number="3"><span class="fu">unzip</span> master.zip</a></code></pre></div>
</div>
<div id="modify-the-number-of-loci-maxloci" class="section level3">
<h3 class="hasAnchor">
<a href="#modify-the-number-of-loci-maxloci" class="anchor"></a>Modify the number of loci: MAXLOCI</h3>
<p>If you want to use more loci during your simulations (default is 1001), you need to modify rmetasim before compiling. With a text editor <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html#install-textwrangler">e.g. BBEdit with macOS</a>, modify the <code>const.h</code> file in the <code>src</code> folder: <code>rmetasim-master/src/const.h</code>. Navigate to <strong>lane 33</strong> and change the integer to the desired maximum number of loci. Or do this in the Terminal:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="fu">sed</span> -i -e <span class="st">'s/#define MAXLOCI               1001/#define MAXLOCI               20000/g'</span> rmetasim-master/src/const.h</a></code></pre></div>
</div>
<div id="Makevars_config" class="section level3">
<h3 class="hasAnchor">
<a href="#Makevars_config" class="anchor"></a>Makevars configuration</h3>
<p><em>rmetasim</em> requires these Makevars (<code>~/.R/Makevars</code> file) specifications. If you have other lines, comment (#) before compiling <code>rmetasim</code>:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" data-line-number="1">usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_makevars</a></span>()</a></code></pre></div>
<p><strong>With most OS (including macOS 10.14):</strong></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="va">CC=</span>/usr/local/bin/clang</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="va">CC=</span>/usr/local/bin/clang</a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="va">CXX=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="va">CXX1X=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="va">CXX11=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="va">FLIBS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb40-7" data-line-number="7"><span class="va">CFLAGS=</span>-I/usr/local/include</a>
<a class="sourceLine" id="cb40-8" data-line-number="8"><span class="va">LDFLAGS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb40-9" data-line-number="9"><span class="va">CPPFLAGS=</span>-I/usr/local/include</a>
<a class="sourceLine" id="cb40-10" data-line-number="10"><span class="va">SHLIB_OPENMP_CFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb40-11" data-line-number="11"><span class="va">SHLIB_OPENMP_FCFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb40-12" data-line-number="12"><span class="va">SHLIB_OPENMP_FFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb40-13" data-line-number="13"><span class="va">SHLIB_OPENMP_CXXFLAGS=</span> <span class="ex">-fopenmp</span></a></code></pre></div>
<p><strong>macOS 10.15</strong></p>
<p>This latest os requires extra lines:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="va">CC=</span>/usr/local/bin/clang</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="va">CC=</span>/usr/local/bin/clang</a>
<a class="sourceLine" id="cb41-3" data-line-number="3"><span class="va">CXX=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb41-4" data-line-number="4"><span class="va">CXX1X=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb41-5" data-line-number="5"><span class="va">FLIBS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb41-6" data-line-number="6"><span class="va">LDFLAGS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb41-7" data-line-number="7"><span class="va">SHLIB_OPENMP_CFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb41-8" data-line-number="8"><span class="va">SHLIB_OPENMP_FCFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb41-9" data-line-number="9"><span class="va">SHLIB_OPENMP_FFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb41-10" data-line-number="10"><span class="va">SHLIB_OPENMP_CXXFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb41-11" data-line-number="11"><span class="va">CFLAGS+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></a>
<a class="sourceLine" id="cb41-12" data-line-number="12"><span class="va">CCFLAGS+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></a>
<a class="sourceLine" id="cb41-13" data-line-number="13"><span class="va">CXXFLAGS+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></a>
<a class="sourceLine" id="cb41-14" data-line-number="14"><span class="va">CPPFLAGS+=</span>-isysroot <span class="ex">/Library/Developer/CommandLineTools/SDKs/MacOSX.sdk</span></a></code></pre></div>
</div>
<div id="compile" class="section level3">
<h3 class="hasAnchor">
<a href="#compile" class="anchor"></a>Compile</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="ex">R</span> CMD INSTALL <span class="st">"rmetasim-master"</span> <span class="co"># Terminal command</span></a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="fu">sudo</span> rm -R rmetasim-master master.zip <span class="co"># to remove the folders no longer required</span></a></code></pre></div>
</div>
</div>
<div id="xgboost" class="section level2">
<h2 class="hasAnchor">
<a href="#xgboost" class="anchor"></a><code>XGBoost</code>
</h2>
<div id="download-the-github-version" class="section level3">
<h3 class="hasAnchor">
<a href="#download-the-github-version" class="anchor"></a>Download the github version</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="co"># terminal</span></a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="fu">git</span> clone --recursive https://github.com/dmlc/xgboost</a>
<a class="sourceLine" id="cb43-4" data-line-number="4"><span class="bu">cd</span> xgboost</a></code></pre></div>
</div>
<div id="error" class="section level3">
<h3 class="hasAnchor">
<a href="#error" class="anchor"></a>Error?</h3>
<p>If you’re getting this error: <code>"https" not supported or disabled in libcurl</code>, extra steps are required, <a href="#Installation_problems">check the installation problems section</a> to install <code>OpenSSL</code> and <code>curl</code> and enabling <code>https</code> with <code>--with-ssl</code> option.</p>
</div>
<div id="modification" class="section level3">
<h3 class="hasAnchor">
<a href="#modification" class="anchor"></a>Modification</h3>
<p>Modify in a text editor the <code>configure</code> file inside the <code>xgboost/R-package</code> folder:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="co"># Go to line 1676</span></a>
<a class="sourceLine" id="cb44-2" data-line-number="2"><span class="co"># change</span></a>
<a class="sourceLine" id="cb44-3" data-line-number="3"><span class="va">ac_pkg_openmp=</span>no</a>
<a class="sourceLine" id="cb44-4" data-line-number="4"><span class="co"># to</span></a>
<a class="sourceLine" id="cb44-5" data-line-number="5"><span class="va">ac_pkg_openmp=</span>yes</a>
<a class="sourceLine" id="cb44-6" data-line-number="6"><span class="co">#save the file under the same name</span></a></code></pre></div>
</div>
<div id="makevars-configuration" class="section level3">
<h3 class="hasAnchor">
<a href="#makevars-configuration" class="anchor"></a>Makevars configuration</h3>
<p><code>XGBoost</code> requires these Makevars specifications. If you have other lines, comment (#) before compiling:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" data-line-number="1">usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_makevars</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb46-2" data-line-number="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb46-3" data-line-number="3"><span class="va">CXX11=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb46-4" data-line-number="4"><span class="va">CXX14=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb46-5" data-line-number="5"><span class="va">CXX17=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb46-6" data-line-number="6"><span class="va">SHLIB_OPENMP_CFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb46-7" data-line-number="7"><span class="va">SHLIB_OPENMP_FCFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb46-8" data-line-number="8"><span class="va">SHLIB_OPENMP_FFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb46-9" data-line-number="9"><span class="va">SHLIB_OPENMP_CXXFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb46-10" data-line-number="10"><span class="va">CFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=gnu99 -mtune=native -pipe</a>
<a class="sourceLine" id="cb46-11" data-line-number="11"><span class="va">CXXFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=c++11 -mtune=native -pipe</a>
<a class="sourceLine" id="cb46-12" data-line-number="12"><span class="va">LDFLAGS=</span>-L/usr/local/lib <span class="ex">-Wl</span>,-rpath,/usr/local/lib</a>
<a class="sourceLine" id="cb46-13" data-line-number="13"><span class="va">CPPFLAGS=</span>-I/usr/local/include <span class="ex">-I/usr/local/include</span></a></code></pre></div>
</div>
<div id="compile-1" class="section level3">
<h3 class="hasAnchor">
<a href="#compile-1" class="anchor"></a>Compile</h3>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="fu">sudo</span> R CMD INSTALL R-package</a></code></pre></div>
</div>
<div id="test-r-package" class="section level3">
<h3 class="hasAnchor">
<a href="#test-r-package" class="anchor"></a>Test R-package</h3>
<p>You should see a time difference between both runs</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(xgboost)</a>
<a class="sourceLine" id="cb48-2" data-line-number="2">x &lt;-<span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span><span class="op">*</span><span class="dv">10000</span>), <span class="dv">10000</span>, <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb48-3" data-line-number="3">y &lt;-<span class="st">  </span>x <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">100</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span>(<span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb48-4" data-line-number="4"></a>
<a class="sourceLine" id="cb48-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>({bst =<span class="st"> </span><span class="kw">xgboost</span>(<span class="dt">data =</span> x, <span class="dt">label =</span> y, <span class="dt">nthread =</span> <span class="dv">1</span>, <span class="dt">nround =</span> <span class="dv">100</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>)})</a>
<a class="sourceLine" id="cb48-6" data-line-number="6"><span class="kw"><a href="https://rdrr.io/r/base/system.time.html">system.time</a></span>({bst =<span class="st"> </span><span class="kw">xgboost</span>(<span class="dt">data =</span> x, <span class="dt">label =</span> y, <span class="dt">nthread =</span> <span class="dv">4</span>, <span class="dt">nround =</span> <span class="dv">100</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>)})</a></code></pre></div>
</div>
</div>
<div id="lightgbm" class="section level2">
<h2 class="hasAnchor">
<a href="#lightgbm" class="anchor"></a><code>LightGBM</code>
</h2>
<p><code>LightGBM</code> requires an OpenMP-enabled compiler. Currently, it doesn’t work well with clang, so make sure you have updated your GCC compiler (instructions above). Additionally, <code>LightGBM</code> requires <a href="https://cmake.org/overview/">CMake</a></p>
<div id="download-and-install-cmake" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install-cmake" class="anchor"></a>Download and install CMake</h3>
<div class="sourceCode" id="cb49"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="co">#In browser or using wget in Terminal</span></a>
<a class="sourceLine" id="cb49-2" data-line-number="2"><span class="ex">https</span>://cmake.org/files/v3.12/cmake-3.12.2-Darwin-x86_64.dmg</a>
<a class="sourceLine" id="cb49-3" data-line-number="3"><span class="co"># double-click on the disk image and follow instructions</span></a></code></pre></div>
<p>To add CMake to the PATH:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="va">PATH=</span><span class="st">"/Applications/CMake.app/Contents/bin"</span>:<span class="st">"</span><span class="va">$PATH</span><span class="st">"</span></a>
<a class="sourceLine" id="cb50-2" data-line-number="2"><span class="co"># Or, to install symlinks to '/usr/local/bin', run:</span></a>
<a class="sourceLine" id="cb50-3" data-line-number="3"><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> --install</a>
<a class="sourceLine" id="cb50-4" data-line-number="4"><span class="co"># Or, to install symlinks to another directory, run:</span></a>
<a class="sourceLine" id="cb50-5" data-line-number="5"><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> --install=/path/to/bin</a>
<a class="sourceLine" id="cb50-6" data-line-number="6"><span class="co">#Then, run the following commands to install LightGBM:</span></a></code></pre></div>
</div>
<div id="download-and-install-lightgbm" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install-lightgbm" class="anchor"></a>Download and Install LightGBM</h3>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb51-2" data-line-number="2"><span class="fu">git</span> clone --recursive https://github.com/Microsoft/LightGBM</a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="bu">cd</span> LightGBM</a>
<a class="sourceLine" id="cb51-4" data-line-number="4"><span class="ex">Rscript</span> build_r.R</a>
<a class="sourceLine" id="cb51-5" data-line-number="5"><span class="co"># previous version required running these lines instead</span></a>
<a class="sourceLine" id="cb51-6" data-line-number="6"><span class="co">#cd LightGBM/R-package</span></a>
<a class="sourceLine" id="cb51-7" data-line-number="7"><span class="co">#export CC=/usr/local/bin/gcc CXX=/usr/local/bin/g++</span></a>
<a class="sourceLine" id="cb51-8" data-line-number="8"><span class="co">#R CMD INSTALL --build . --no-multiarch</span></a></code></pre></div>
</div>
</div>
<div id="randomforestsrc" class="section level2">
<h2 class="hasAnchor">
<a href="#randomforestsrc" class="anchor"></a><code>randomForestSRC</code>
</h2>
<p><a href="http://web.ccs.miami.edu/~hishwaran/ishwaran.html">randomForestSRC</a> requires the GCC OpenMP-enabled compiler to run in parallel. See instructions above if not already done.</p>
<div id="makevars-configuration-1" class="section level3">
<h3 class="hasAnchor">
<a href="#makevars-configuration-1" class="anchor"></a>Makevars configuration</h3>
<p>Check that the lines below <strong>are not</strong> commented in your <code>~/.R/Makevars</code> file:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" data-line-number="1">usethis<span class="op">::</span><span class="kw"><a href="https://usethis.r-lib.org/reference/edit.html">edit_r_makevars</a></span>()</a></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb53-1" data-line-number="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb53-2" data-line-number="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb53-3" data-line-number="3"><span class="va">CFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=gnu99 -mtune=native -pipe</a>
<a class="sourceLine" id="cb53-4" data-line-number="4"><span class="va">CXXFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=c++11 -mtune=native -pipe</a>
<a class="sourceLine" id="cb53-5" data-line-number="5"><span class="va">PKG_CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb53-6" data-line-number="6"><span class="va">PKG_CXXFLAGS=</span>-fopenmp <span class="ex">-std</span>=c++11</a>
<a class="sourceLine" id="cb53-7" data-line-number="7"><span class="va">FC=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb53-8" data-line-number="8"><span class="va">F77=</span>/usr/local/bin/gfortran</a></code></pre></div>
</div>
<div id="download-and-install" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install" class="anchor"></a>Download and install</h3>
<p>From the Terminal run these steps to download and compile randomForestSRC:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb54-2" data-line-number="2"><span class="ex">curl</span> -O https://cran.r-project.org/src/contrib/randomForestSRC_4.6-14.tar.gz</a>
<a class="sourceLine" id="cb54-3" data-line-number="3"><span class="fu">tar</span> -zxvf randomForestSRC_4.6-14.tar.gz</a>
<a class="sourceLine" id="cb54-4" data-line-number="4"><span class="bu">cd</span> randomForestSRC</a>
<a class="sourceLine" id="cb54-5" data-line-number="5"><span class="fu">autoconf</span></a>
<a class="sourceLine" id="cb54-6" data-line-number="6"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb54-7" data-line-number="7"><span class="ex">R</span> CMD INSTALL --preclean --clean randomForestSRC</a></code></pre></div>
<p>You want to make sure that this line is printed during execution of the previous command: <code>checking whether OpenMP will work in a package... yes</code> or <code>checking for /usr/local/bin/gcc option to support OpenMP... -fopenmp</code></p>
<p>If the compilation fails after <code>autoconf</code>, follow the first 3 steps in this <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/07_start_from_new_image.html?highlight=autoconf#install-gbs-radseq-software-time-required-30min">tutorial</a>, to install <code>libsigsegv</code>, <code>m4</code> and <code>autoconf</code>.</p>
</div>
</div>
<div id="ranger" class="section level2">
<h2 class="hasAnchor">
<a href="#ranger" class="anchor"></a><code>ranger</code>
</h2>
<p><a href="https://github.com/imbs-hl/ranger">ranger</a> is easy to install.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"ranger"</span>)</a></code></pre></div>
</div>
<div id="missranger" class="section level2">
<h2 class="hasAnchor">
<a href="#missranger" class="anchor"></a><code>missRanger</code>
</h2>
<p><a href="https://github.com/mayer79/missRanger">missRanger</a> is also very easy to install.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"missRanger"</span>)</a></code></pre></div>
</div>
<div id="pcamethods" class="section level2">
<h2 class="hasAnchor">
<a href="#pcamethods" class="anchor"></a><code>pcaMethods</code>
</h2>
<p>To install <a href="https://github.com/hredestig/pcaMethods">pcaMethods</a>, from bioconductor:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/source.html">source</a></span>(<span class="st">"https://bioconductor.org/biocLite.R"</span>)</a>
<a class="sourceLine" id="cb57-2" data-line-number="2"><span class="kw">biocLite</span>(<span class="st">"pcaMethods"</span>)</a></code></pre></div>
</div>
<div id="fastsimcoal2" class="section level2">
<h2 class="hasAnchor">
<a href="#fastsimcoal2" class="anchor"></a><code>fastsimcoal2</code>
</h2>
<p>To install <a href="http://cmpg.unibe.ch/software/fastsimcoal2/">fastsimcoal2 v.2.6.0.3</a>, to use in <code><a href="https://rdrr.io/pkg/grur/man/simulate_rad.html">grur::simulate_rad</a></code>:</p>
<div id="linux-1" class="section level3">
<h3 class="hasAnchor">
<a href="#linux-1" class="anchor"></a>LINUX</h3>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="fu">wget</span> http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_linux64.zip</a>
<a class="sourceLine" id="cb58-2" data-line-number="2"><span class="fu">unzip</span> fsc26_linux64.zip</a>
<a class="sourceLine" id="cb58-3" data-line-number="3"><span class="fu">sudo</span> mv fsc26_linux64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></a></code></pre></div>
</div>
<div id="macos-1" class="section level3">
<h3 class="hasAnchor">
<a href="#macos-1" class="anchor"></a>MacOS</h3>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb59-2" data-line-number="2"><span class="ex">curl</span> -O http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_mac64.zip</a>
<a class="sourceLine" id="cb59-3" data-line-number="3"><span class="fu">unzip</span> fsc26_mac64.zip</a>
<a class="sourceLine" id="cb59-4" data-line-number="4"><span class="fu">sudo</span> mv fsc26_mac64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></a></code></pre></div>
</div>
<div id="common-to-both-os" class="section level3">
<h3 class="hasAnchor">
<a href="#common-to-both-os" class="anchor"></a>Common to both OS:</h3>
<div class="sourceCode" id="cb60"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="fu">sudo</span> chmod 777 /usr/local/bin/fsc26</a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="ex">fsc26</span></a></code></pre></div>
<p>Re-start R and the software fastsimcoal2 will automatically be in your PATH…</p>
</div>
<div id="path-1" class="section level3">
<h3 class="hasAnchor">
<a href="#path-1" class="anchor"></a>PATH</h3>
<p>To see the path of the installation, in the <code>Terminal</code>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="fu">which</span> fsc26</a>
<a class="sourceLine" id="cb61-2" data-line-number="2"><span class="co"># in macOS:</span></a>
<a class="sourceLine" id="cb61-3" data-line-number="3"><span class="co"># /usr/local/bin/fsc26</span></a></code></pre></div>
<p>If that doesn’t work, do:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb62-1" data-line-number="1"><span class="bu">source</span> ~/.bash_profile</a></code></pre></div>
<p>Remove the files in the folder:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="fu">sudo</span> rm -R fsc26_mac64*</a></code></pre></div>
</div>
</div>
<div id="colony" class="section level2">
<h2 class="hasAnchor">
<a href="#colony" class="anchor"></a><code>COLONY</code>
</h2>
<p>To install <a href="https://www.zsl.org/science/software/colony">COLONY 30/07/2018, V2.0.6.5</a>:</p>
<div id="macos-2" class="section level3">
<h3 class="hasAnchor">
<a href="#macos-2" class="anchor"></a>MacOS</h3>
<p>The old openmpi version (openmpi-1.6.5) is required, saddly.</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb64-2" data-line-number="2"><span class="ex">curl</span> -O https://download.open-mpi.org/release/open-mpi/v1.6/openmpi-1.6.5.tar.gz</a>
<a class="sourceLine" id="cb64-3" data-line-number="3"><span class="fu">tar</span> -zxvf openmpi-1.6.5.tar.gz</a>
<a class="sourceLine" id="cb64-4" data-line-number="4"><span class="bu">cd</span> openmpi-1.6.5</a>
<a class="sourceLine" id="cb64-5" data-line-number="5"><span class="bu">export</span> <span class="va">TMPDIR=</span>/tmp</a>
<a class="sourceLine" id="cb64-6" data-line-number="6"><span class="ex">./configure</span> F77=gfortran --prefix=/usr/local -openmp</a>
<a class="sourceLine" id="cb64-7" data-line-number="7"><span class="fu">make</span> -j 12</a>
<a class="sourceLine" id="cb64-8" data-line-number="8"><span class="fu">sudo</span> make install</a></code></pre></div>
<p>To download COLONY, follow instructions on Jinliang Wang <a href="https://www.zsl.org/science/software/colony">ZSL website</a>. The file you need to uncompress is named: <code>colony2.mac_.20180730.zip</code>.</p>
</div>
<div id="linux-2" class="section level3">
<h3 class="hasAnchor">
<a href="#linux-2" class="anchor"></a>Linux</h3>
<p>To download COLONY, follow instructions on Jinliang Wang <a href="https://www.zsl.org/science/software/colony">ZSL website</a>. The file you need to uncompress is named: <code>colony2.linux_.20180730.zip</code>.</p>
<p>Several options are available depending on the compiler you have installed.</p>
</div>
</div>
</div>
<div id="useful-1" class="section level1">
<h1 class="hasAnchor">
<a href="#useful-1" class="anchor"></a>Useful</h1>
<div id="update-github" class="section level2">
<h2 class="hasAnchor">
<a href="#update-github" class="anchor"></a>Update <a href="http://en.wikipedia.org/wiki/Github">Github</a>
</h2>
<p>macOS Catalina comes with <a href="https://github.com">Github</a>, a Version Control System (VCS), pre-installed. However, the install is in <code>/usr/bin/git</code> which can make it difficult for beginners to update. To change this, run these commands:</p>
<ol style="list-style-type: decimal">
<li>Install <a href="http://www.gnu.org/software/autoconf/">GNU Autoconf</a>
</li>
</ol>
<div class="sourceCode" id="cb65"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="fu">wget</span> http://ftp.gnu.org/gnu/autoconf/autoconf-latest.tar.gz</a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="fu">tar</span> -xvzf autoconf-latest.tar.gz</a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="bu">cd</span> autoconf-2.69</a>
<a class="sourceLine" id="cb65-5" data-line-number="5"><span class="ex">./configure</span></a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="fu">make</span></a>
<a class="sourceLine" id="cb65-7" data-line-number="7"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb65-8" data-line-number="8"><span class="bu">cd</span> .. </a>
<a class="sourceLine" id="cb65-9" data-line-number="9"><span class="fu">sudo</span> rm -R ~/Downloads/autoconf-*</a></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Install Github</li>
</ol>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="fu">git</span> --version      # show current git version installed</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="fu">which</span> git          # returns where is git on your computer</a>
<a class="sourceLine" id="cb66-3" data-line-number="3"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb66-4" data-line-number="4"><span class="fu">git</span> clone https://github.com/git/git <span class="co"># install the latest Git</span></a>
<a class="sourceLine" id="cb66-5" data-line-number="5"><span class="bu">cd</span> git</a>
<a class="sourceLine" id="cb66-6" data-line-number="6"><span class="fu">make</span> configure</a>
<a class="sourceLine" id="cb66-7" data-line-number="7"><span class="ex">./configure</span></a>
<a class="sourceLine" id="cb66-8" data-line-number="8"><span class="fu">make</span></a>
<a class="sourceLine" id="cb66-9" data-line-number="9"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb66-10" data-line-number="10"><span class="bu">cd</span> .. </a>
<a class="sourceLine" id="cb66-11" data-line-number="11"><span class="fu">sudo</span> rm -R ~/Downloads/git/     # remove git folder</a>
<a class="sourceLine" id="cb66-12" data-line-number="12"><span class="bu">source</span> ~/.bash_profile          # reload startup script</a>
<a class="sourceLine" id="cb66-13" data-line-number="13"><span class="fu">git</span> --version                   # confirmed the version you just installed</a>
<a class="sourceLine" id="cb66-14" data-line-number="14"><span class="fu">which</span> git                       # returns /usr/local/bin</a></code></pre></div>
</div>
<div id="macos-terminal-from-specific-folder" class="section level2">
<h2 class="hasAnchor">
<a href="#macos-terminal-from-specific-folder" class="anchor"></a>macOS Terminal from specific folder</h2>
<p>In <strong>System Preferences</strong> choose <code>Keyboard -&gt; Shortcuts</code>. From the left panel, choose <strong>Services</strong>. In the right panel, under <strong>Files and Folders</strong>, choose <strong>New Terminal at Folder and/or New Terminal Tab at Folder</strong>. Now you can right-click your track pad or mouse on a folder and choose Services -&gt; New Terminal at Folder!</p>
<p><img src="../../../../../Mobile%20Documents/com~apple~CloudDocs/r_packages/radiator/vignettes/terminal_folder_shortcut.png" width="660"></p>
</div>
<div id="shortcut-to-folder-path" class="section level2">
<h2 class="hasAnchor">
<a href="#shortcut-to-folder-path" class="anchor"></a>Shortcut to folder path</h2>
<p>Open the Automator application (it’s on all MAC…).</p>
<p><img src="../../../../../Mobile%20Documents/com~apple~CloudDocs/r_packages/radiator/vignettes/automator.png" width="112"></p>
<div class="sourceCode" id="cb67"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="ex">File</span> -<span class="op">&gt;</span> New (cmd-N)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="ex">Choose</span>: Services</a>
<a class="sourceLine" id="cb67-3" data-line-number="3"><span class="ex">Left</span> panel, choose: Library -<span class="op">&gt;</span> Utilities</a>
<a class="sourceLine" id="cb67-4" data-line-number="4"><span class="ex">Middle</span>, choose: Copy to Clipboard and drag it to the right panel</a>
<a class="sourceLine" id="cb67-5" data-line-number="5"><span class="ex">Now</span> you want to have: Service receives selected FILES OR FOLDERS in FINDER<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb67-6" data-line-number="6"><span class="ex">You</span> should have something similar to the image below:</a></code></pre></div>
<p><img src="../../../../../Mobile%20Documents/com~apple~CloudDocs/r_packages/radiator/vignettes/copy_path.png" width="994"></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="ex">Save</span> (cmd-S) <span class="ex">or</span> File -<span class="op">&gt;</span> Save service as: copy path to clipboard</a></code></pre></div>
<p>Go in the Finder, select a folder and right click on it you should see ‘copy path to clipboard’ at the bottom or in <strong>Services</strong>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#macos">macOS</a><ul class="nav nav-pills nav-stacked">
<li><a href="#update-your-os">Update your OS</a></li>
      <li><a href="#get-administrator-and-root-user-access">Get administrator and root user access</a></li>
      <li><a href="#apples-command-line-tools">Apple’s Command Line Tools</a></li>
      <li><a href="#compiler">Compiler</a></li>
      <li><a href="#path">PATH</a></li>
      <li><a href="#useful">Useful</a></li>
      </ul>
</li>
      <li><a href="#linux">Linux</a></li>
      <li><a href="#install-r">Install R</a></li>
      <li><a href="#rstudio">Rstudio</a></li>
      <li><a href="#makevars-file">Makevars file</a></li>
      <li><a href="#installing-libraries">Installing Libraries</a></li>
      <li>
<a href="#Installation_problems">Installation problems</a><ul class="nav nav-pills nav-stacked">
<li><a href="#error-saying-https-not-supported-or-disabled-in-libcurl">Error saying “https” not supported or disabled in libcurl</a></li>
      <li><a href="#linux-related-problem">Linux related problem</a></li>
      <li><a href="#Renviron">Error saying: <code>Error: vector memory exhausted (limit reached)</code></a></li>
      <li><a href="#error-during-package-installation">Error during package installation</a></li>
      <li><a href="#error--setmaxglobalsize">Error <code>.setMaxGlobalSize</code></a></li>
      <li><a href="#error-in--dynamicclustercall">Error in <code>.DynamicClusterCall</code></a></li>
      <li><a href="#error-during-install-when-numerous-of-packages-are-updated">Error during install when numerous of packages are updated:</a></li>
      <li><a href="#error-with-dyn-load">Error with <code>dyn.load</code></a></li>
      <li><a href="#google-is-your-next-best-friend">Google is your next best friend…</a></li>
      </ul>
</li>
      <li>
<a href="#specific-librairies-installation">Specific librairies installation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#rmetasim"><code>rmetasim</code></a></li>
      <li><a href="#xgboost"><code>XGBoost</code></a></li>
      <li><a href="#lightgbm"><code>LightGBM</code></a></li>
      <li><a href="#randomforestsrc"><code>randomForestSRC</code></a></li>
      <li><a href="#ranger"><code>ranger</code></a></li>
      <li><a href="#missranger"><code>missRanger</code></a></li>
      <li><a href="#pcamethods"><code>pcaMethods</code></a></li>
      <li><a href="#fastsimcoal2"><code>fastsimcoal2</code></a></li>
      <li><a href="#colony"><code>COLONY</code></a></li>
      </ul>
</li>
      <li>
<a href="#useful-1">Useful</a><ul class="nav nav-pills nav-stacked">
<li><a href="#update-github">Update <span>Github</span></a></li>
      <li><a href="#macos-terminal-from-specific-folder">macOS Terminal from specific folder</a></li>
      <li><a href="#shortcut-to-folder-path">Shortcut to folder path</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Thierry Gosselin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
