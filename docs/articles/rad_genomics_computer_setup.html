<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RADseq genomics in R • assigner</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="RADseq genomics in R">
<meta property="og:description" content="">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">assigner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Installation</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../FEATURES.html">Features</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/fst_confidence_intervals.html">Fst analysis</a>
    </li>
    <li>
      <a href="../articles/assignment.whitelists.html">Using whitelists in assignment</a>
    </li>
    <li>
      <a href="../articles/rad_genomics_computer_setup.html">Computer setup - Installation - Troubleshooting</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/thierrygosselin/assigner">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>RADseq genomics in R</h1>
            <h3 class="subtitle">computer setup</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/thierrygosselin/assigner/blob/master/vignettes/rad_genomics_computer_setup.Rmd"><code>vignettes/rad_genomics_computer_setup.Rmd</code></a></small>
      <div class="hidden name"><code>rad_genomics_computer_setup.Rmd</code></div>

    </div>

    
    
<p><strong>Time to allow: ETA ~20 min</strong></p>
<p>This vignette purposes is to show users how to setup their computers for RADseq genomic analysis inside R. It targets users of my packages or workshops.</p>
<p>The vignette as an <code>Installation problems</code> section, browse through it if your experiencing installation issues.</p>
<p>The vignette is also usefull if your:</p>
<ul>
<li>conducting imputations</li>
<li>using simulations with <code>grur</code> and it’s dependencies or simulations with <code>strataG</code>.</li>
<li>specific installation instructions for:
<ul>
<li><code>rmetasim</code></li>
<li><code>XGBoost</code></li>
<li><code>LightGBM</code></li>
<li><code>randomForestSRC</code></li>
<li><code>ranger</code></li>
<li><code>missRanger</code></li>
<li><code>pcaMethods</code></li>
</ul>
</li>
<li>how to <strong>OpenMP enabled</strong> specific packages that require to run in parallel for the imputations.</li>
</ul>
<p>I’m currently merging information also found in this <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html">tutorial</a></p>
<div id="macos" class="section level1">
<h1 class="hasAnchor">
<a href="#macos" class="anchor"></a>macOS</h1>
<div id="apples-command-line-tools" class="section level2">
<h2 class="hasAnchor">
<a href="#apples-command-line-tools" class="anchor"></a>Apple’s Command Line Tools</h2>
<p>Make sure it’s installed…if not, follow instructions:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb1-1" title="1"><span class="ex">xcode-select</span> --install</a></code></pre></div>
</div>
<div id="compiler" class="section level2">
<h2 class="hasAnchor">
<a href="#compiler" class="anchor"></a>Compiler</h2>
<p>Apple can’t ship GNU Compiler Collection (GCC) with OpenMP enabled, similar story with Clang the other compiler used in macOS. Consequently, both need to be updateed manually.</p>
<p>The command below fro both GCC and Clang will:</p>
<ul>
<li>change directory to your downloads</li>
<li>download the compiler’s binaries</li>
<li>uncompress and move folders (<code>bin</code>, <code>include</code>, <code>lib</code>, <code>libexec</code> and <code>share</code>) of the compiler on your computer <code>/usr/local</code> directory.</li>
<li>remove the downloaded file</li>
<li>check the version of gcc</li>
</ul>
<div id="update-gcc" class="section level3">
<h3 class="hasAnchor">
<a href="#update-gcc" class="anchor"></a>Update GCC</h3>
<p>Choose the binary version number based on your OS and change the version accordingly <a href="http://hpc.sourceforge.net">link</a>.</p>
<p><strong>Mojave</strong> <a href="https://www.dropbox.com/s/9b7s07n2b65r5jd/gcc-8.2-bin.tar.gz?dl=0">gcc-8.2.tar.gz</a> <strong>High Sierra</strong> <a href="http://prdownloads.sourceforge.net/hpc/gcc-8.1-bin.tar.gz">gcc-8.1-bin.tar.gz</a></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" title="1"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb2-3" title="3"><span class="fu">sudo</span> tar -zxvf gcc-8.2-bin.tar.gz -C /usr/local --strip-components=2</a></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb3-1" title="1"><span class="fu">sudo</span> rm gcc-8.2-bin.tar.gz</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="fu">gcc</span> -v</a></code></pre></div>
</div>
<div id="update-clang" class="section level3">
<h3 class="hasAnchor">
<a href="#update-clang" class="anchor"></a>Update Clang</h3>
<p>We want <a href="https://en.wikipedia.org/wiki/Clang">clang</a> compiler with OpenMP enabled.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb4-1" title="1"><span class="co">#In browser</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="ex">http</span>://releases.llvm.org/7.0.0/clang+llvm-7.0.0-x86_64-apple-darwin.tar.xz</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb4-5" title="5"><span class="fu">sudo</span> tar -xzvf clang+llvm-7.0.0-x86_64-apple-darwin.tar.xz -C/usr/local --strip-components=1</a></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" title="1"><span class="fu">sudo</span> rm clang+llvm-7.0.0-x86_64-apple-darwin.tar.xz</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="fu">clang</span> -v</a></code></pre></div>
</div>
</div>
</div>
<div id="linux" class="section level1">
<h1 class="hasAnchor">
<a href="#linux" class="anchor"></a>Linux</h1>
<p>Make sure you have GCC and CLANG with OpenMP enabled. Several flavors available, check for the proper <a href="http://releases.llvm.org/download.html">link</a></p>
</div>
<div id="install-r" class="section level1">
<h1 class="hasAnchor">
<a href="#install-r" class="anchor"></a>Install R</h1>
<p>To install R v3.5.3 <strong>Great Truth</strong> released on 2019-03-11 download the installer and follow the instructions</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" title="1"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb6-2" title="2"><span class="fu">wget</span> https://cran.r-project.org/bin/macosx/R-3.5.0.pkg</a></code></pre></div>
<p><strong>To remove R completely from macOS</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb7-1" title="1"><span class="fu">sudo</span> rm -rf /Library/Frameworks/R.framework /Applications/R.app \</a>
<a class="sourceLine" id="cb7-2" title="2">   /usr/bin/R /usr/bin/Rscript</a></code></pre></div>
</div>
<div id="rstudio" class="section level1">
<h1 class="hasAnchor">
<a href="#rstudio" class="anchor"></a>Rstudio</h1>
<p>To download RStudio, check this <a href="https://www.rstudio.com/products/rstudio/download/#download">link</a> and download the installer for your OS.</p>
</div>
<div id="makevars-file" class="section level1">
<h1 class="hasAnchor">
<a href="#makevars-file" class="anchor"></a>Makevars file</h1>
<p>You need to tell R how to use the compilers. This might change from one package to another. Nothing is simple, you know this by now… All this is done through R’s <code>~/.R/Makevars</code> file.</p>
<p>If you don’t have the file, the fastest way is to use the built-in nano editor in the Terminal to create one:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb8-1" title="1"><span class="bu">cd</span> ~</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="fu">mkdir</span> ~/.R</a></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb9-1" title="1"><span class="fu">nano</span> ~/.R/Makevars</a></code></pre></div>
<p>Copy/paste the section below (Makevars content). Save and Exit with: <code>crt-o</code>, <code>enter</code>, <code>crt-x</code>.</p>
<p>If you already have the <em>Makevars</em> file macOS <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html#install-textwrangler">BBEdit</a> can be use to open the file with <code>Show hidden items</code> turned <code>ON</code>.</p>
<p><strong>Makevars content required:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb10-1" title="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb10-3" title="3"><span class="va">FC=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb10-4" title="4"><span class="va">F77=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb10-5" title="5"><span class="ex">PKG_LIBS</span> = -fopenmp -lgomp</a>
<a class="sourceLine" id="cb10-6" title="6"><span class="va">PKG_CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb10-7" title="7"><span class="va">PKG_CXXFLAGS=</span>-fopenmp <span class="ex">-std</span>=c++11</a>
<a class="sourceLine" id="cb10-8" title="8"><span class="va">CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb10-9" title="9"><span class="ex">SHLIB_OPENMP_CFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb10-10" title="10"><span class="ex">SHLIB_OPENMP_CXXFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb10-11" title="11"><span class="ex">SHLIB_OPENMP_FCFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb10-12" title="12"><span class="ex">SHLIB_OPENMP_FFLAGS</span> = -fopenmp</a>
<a class="sourceLine" id="cb10-13" title="13"><span class="va">FLIBS=</span>-L/usr/local/lib/gcc/x86_64-apple-darwin15.6.0/7.1.0/finclude <span class="co"># change according to your computer compiler version</span></a>
<a class="sourceLine" id="cb10-14" title="14"><span class="va">CFLAGS=</span>-mtune=<span class="ex">native</span> -g -O2 -Wall -pedantic -Wconversion</a>
<a class="sourceLine" id="cb10-15" title="15"><span class="va">CXXFLAGS=</span>-mtune=<span class="ex">native</span> -g -O2 -Wall -pedantic -Wconversion</a></code></pre></div>
</div>
<div id="installing-libraries" class="section level1">
<h1 class="hasAnchor">
<a href="#installing-libraries" class="anchor"></a>Installing Libraries</h1>
<p>Below is how I setup most of my computers after a clean macOS install. I start with <strong>devtools</strong> and <strong>tidyverse</strong> than <strong>grur</strong> my packge with the higher number of dependencies, this way it’s installing automatically 90% of the packages I need (including <strong>radiator</strong>).</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(<span class="st">"devtools"</span>)) <span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"devtools"</span>) <span class="co"># to install</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"tidyverse"</span>)</a>
<a class="sourceLine" id="cb11-3" title="3">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"thierrygosselin/grur"</span>)</a>
<a class="sourceLine" id="cb11-4" title="4">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"thierrygosselin/assigner"</span>)</a></code></pre></div>
</div>
<div id="Installation_problems" class="section level1">
<h1 class="hasAnchor">
<a href="#Installation_problems" class="anchor"></a>Installation problems</h1>
<p>Sometimes you’ll get warnings while installing dependencies required for <em>x</em> package.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1"><span class="co">#Warning: cannot remove prior installation of package ‘stringi’</span></a></code></pre></div>
<p>To solve this problem, delete manually the problematic package in the installation folder (on mac: <code>/Library/Frameworks/R.framework/Resources/library</code>) or in the <code>Terminal</code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb13-1" title="1"><span class="fu">sudo</span> rm -R /Library/Frameworks/R.framework/Resources/library/package_name</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co"># Changing 'package_name' to the problematic package.</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co"># Reinstall the package.</span></a></code></pre></div>
<ul>
<li><p>Using the latest version of R, RStudio and packages is recommended. If your heart start pounding just at the thought of having to install a new R version, you should have a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/">packrat</a>.</p></li>
<li><p>Look at the output in R console when you get an error message. If it’s related to one’s of the packages dependencies, try installing it separately before attempting to reinstall the problematic package.</p></li>
</ul>
<div id="error-saying-https-not-supported-or-disabled-in-libcurl" class="section level2">
<h2 class="hasAnchor">
<a href="#error-saying-https-not-supported-or-disabled-in-libcurl" class="anchor"></a>Error saying “https” not supported or disabled in libcurl</h2>
<div id="installing-openssl" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-openssl" class="anchor"></a>Installing OpenSSL</h3>
<p>Required if GCC compiler is used (TLS backend is then used). Not required if clang is used (securetransport backend is used).</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb14-1" title="1"><span class="co">#In browser</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="ex">https</span>://www.openssl.org/source/openssl-1.1.1.tar.gz</a>
<a class="sourceLine" id="cb14-3" title="3"></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb14-6" title="6"><span class="fu">tar</span> -zxvf openssl-1.1.1.tar.gz</a>
<a class="sourceLine" id="cb14-7" title="7"><span class="bu">cd</span> openssl-1.1.1</a>
<a class="sourceLine" id="cb14-8" title="8"><span class="ex">./config</span></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="fu">make</span> -j12 <span class="co">#change with your number of CPU</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="fu">make</span> test <span class="co">#long</span></a>
<a class="sourceLine" id="cb14-11" title="11"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb14-12" title="12"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb14-13" title="13"><span class="fu">sudo</span> rm -R openssl*</a></code></pre></div>
</div>
<div id="installing-curl" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-curl" class="anchor"></a>Installing <a href="https://curl.haxx.se/download">curl</a>
</h3>
<p>Check for the latest release of <a href="https://curl.haxx.se/download">curl</a></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb15-1" title="1"><span class="co">#Copy/paste in your browser</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="ex">https</span>://curl.haxx.se/download/curl-7.61.1.tar.gz</a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co"># Terminal</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="fu">tar</span> -zxvf curl-7.61.1.tar.gz</a>
<a class="sourceLine" id="cb15-6" title="6"><span class="bu">cd</span> curl-7.61.1</a>
<a class="sourceLine" id="cb15-7" title="7"><span class="ex">./configure</span> --with-ssl <span class="co"># to enable https via OpenSSL and using GCC</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#CC="/usr/local/bin/clang" ./configure --without-ssl --with-darwinssl # to install via clang</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="fu">make</span> -j12 <span class="co">#change with your number of CPU</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="fu">sudo</span> make install</a>
<a class="sourceLine" id="cb15-11" title="11"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb15-12" title="12"><span class="fu">sudo</span> rm -R curl*</a></code></pre></div>
</div>
</div>
<div id="linux-related-problem" class="section level2">
<h2 class="hasAnchor">
<a href="#linux-related-problem" class="anchor"></a>Linux related problem</h2>
<p>If you have an install problem, the problem might be very computer-specific. e.g. if the problem is related to <code>strataG</code>, <code>copula</code> and/or <code>gsl</code>, try installing <code>libgsl0-dev</code> in the <strong>Terminal</strong> (very easy now with the latest RStudio release!):</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb16-1" title="1"><span class="fu">sudo</span> apt-get install libgsl0-dev</a></code></pre></div>
</div>
<div id="error-saying-error-vector-memory-exhausted-limit-reached" class="section level2">
<h2 class="hasAnchor">
<a href="#error-saying-error-vector-memory-exhausted-limit-reached" class="anchor"></a>Error saying: Error: vector memory exhausted (limit reached)</h2>
<p>Check that you have a file called <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/files">file.exists</a></span>(<span class="st">"~/.Renviron"</span>)</a></code></pre></div>
<p>If you dont have the file:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb18-1" title="1"><span class="co">#In Terminal</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="bu">cd</span> ~</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="fu">touch</span> .Renviron</a>
<a class="sourceLine" id="cb18-4" title="4"><span class="ex">open</span> .Renviron</a></code></pre></div>
<p>Add this to your <code>.Renviron</code> file located in <code>~/.Renviron</code>:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb19-1" title="1"><span class="ex">R_MAX_VSIZE</span> = 100Gb </a></code></pre></div>
<p>Use BBEdit or other software that allows you to see hidden files starting with a <strong>dot</strong></p>
</div>
<div id="error-during-package-installation-string-h-or-math-h" class="section level2">
<h2 class="hasAnchor">
<a href="#error-during-package-installation-string-h-or-math-h" class="anchor"></a>Error during package installation: <code>string.h</code> or <code>math.h</code>
</h2>
<p>An example during <code>vroom</code> installation:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb20-1" title="1"><span class="fu">clang</span>++ -std=gnu++11 -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include  -Imio/include -DWIN32_LEAN_AND_MEAN -Ispdlog/include -fPIC  -Wall -g -O2 -c gen.cc -o gen.o</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="fu">clang</span>++ -std=gnu++11 -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include  -Imio/include -DWIN32_LEAN_AND_MEAN -Ispdlog/include -fPIC  -Wall -g -O2 -c index_collection.cc -o index_collection.o</a>
<a class="sourceLine" id="cb20-3" title="3"><span class="ex">/usr/local/bin/clang</span> -I<span class="st">"/Library/Frameworks/R.framework/Resources/include"</span> -DNDEBUG  -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/Rcpp/include"</span> -I<span class="st">"/Library/Frameworks/R.framework/Versions/3.5/Resources/library/progress/include"</span> -I/usr/local/include   -fPIC  -I/usr/local/include -c localtime.c -o localtime.o</a>
<a class="sourceLine" id="cb20-4" title="4"><span class="ex">localtime.c</span>:42:10: fatal error: <span class="st">'string.h'</span> file not found</a>
<a class="sourceLine" id="cb20-5" title="5"><span class="co">#include &lt;string.h&gt;</span></a>
<a class="sourceLine" id="cb20-6" title="6">         ^<span class="ex">~~~~~~~~~</span></a></code></pre></div>
<p>Do this:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb21-1" title="1"><span class="fu">sudo</span> installer -pkg \</a>
<a class="sourceLine" id="cb21-2" title="2">/Library/Developer/CommandLineTools/Packages/macOS_SDK_headers_for_macOS_10.14.pkg \</a>
<a class="sourceLine" id="cb21-3" title="3">-target /</a></code></pre></div>
</div>
<div id="error--setmaxglobalsize" class="section level2">
<h2 class="hasAnchor">
<a href="#error--setmaxglobalsize" class="anchor"></a>Error <code>.setMaxGlobalSize</code>
</h2>
<p>Its a problem with a previous version of <code>pbmcapply</code> and it’s interaction with <code>future</code>.</p>
<p><strong>Solution:</strong></p>
<ul>
<li>restart your computer</li>
<li>with a clean desk and session: open RStudio and update your packages</li>
<li>Restart R (<code>RStudio &gt; Session &gt; Restart R</code>)</li>
<li>Re-install my github package generating the error</li>
</ul>
<p><em>Note:</em> if your heart start pounding just at the thought of having to update everything on your computer you should definitely have a look at <a href="https://www.rstudio.com/resources/webinars/managing-package-dependencies-in-r-with-packrat/">packrat</a>: it’s very easy to use.</p>
</div>
<div id="error-in--dynamicclustercall" class="section level2">
<h2 class="hasAnchor">
<a href="#error-in--dynamicclustercall" class="anchor"></a>Error in <code>.DynamicClusterCall</code>
</h2>
<p>If you have a PC and you’re getting this error or closely related error:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># Error in .DynamicClusterCall(cl, length(cl), .fun = function(.proc_idx,  :</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="co"># One of the nodes produced an error: Can not open file 'FILE PATH'. The process cannot access the file because it # is being used by another process.</span></a></code></pre></div>
<p><strong>Solution:</strong> Use <code>parallel.core = 1</code> in the function generating the error.</p>
</div>
<div id="error-during-install-when-numerous-of-packages-are-updated" class="section level2">
<h2 class="hasAnchor">
<a href="#error-during-install-when-numerous-of-packages-are-updated" class="anchor"></a>Error during install when numerous of packages are updated:</h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb23-1" title="1"><span class="co"># Error in get0(oNam, envir = ns) :</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="co"># lazy-load database '/Library/Frameworks/R.framework/Versions/3.5/Resources/library/callr/R/callr.rdb' is corrupt</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="co"># In addition: Warning message:</span></a>
<a class="sourceLine" id="cb23-4" title="4"><span class="co"># In get0(oNam, envir = ns) : internal error -3 in R_decompress1</span></a></code></pre></div>
<p><strong>Solution:</strong></p>
<ol style="list-style-type: decimal">
<li>restart R</li>
<li>re-install the package that generated this error</li>
</ol>
</div>
<div id="google-is-your-next-best-friend" class="section level2">
<h2 class="hasAnchor">
<a href="#google-is-your-next-best-friend" class="anchor"></a>Google is your next best friend…</h2>
</div>
</div>
<div id="specific-librairies-installation" class="section level1">
<h1 class="hasAnchor">
<a href="#specific-librairies-installation" class="anchor"></a>Specific librairies installation</h1>
<div id="rmetasim" class="section level2">
<h2 class="hasAnchor">
<a href="#rmetasim" class="anchor"></a><code>rmetasim</code>
</h2>
<div id="download" class="section level3">
<h3 class="hasAnchor">
<a href="#download" class="anchor"></a>Download</h3>
<p>Download the latest github release (3.1.7) of Allan Strand’s <strong>rmetasim</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb24-1" title="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb24-2" title="2"><span class="fu">wget</span> --no-check-certificate https://github.com/stranda/rmetasim/archive/master.zip</a>
<a class="sourceLine" id="cb24-3" title="3"><span class="fu">unzip</span> master.zip</a></code></pre></div>
</div>
<div id="modify-the-number-of-loci-maxloci" class="section level3">
<h3 class="hasAnchor">
<a href="#modify-the-number-of-loci-maxloci" class="anchor"></a>Modify the number of loci: MAXLOCI</h3>
<p>If you want to use more loci during your simulations (default is 1000), you need to modify rmetasim before compiling. With a text editor <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/03_computer_setup.html#install-textwrangler">e.g. BBEdit with macOS</a>, modify the <code>const.h</code> file in the <code>src</code> folder: <code>rmetasim-master/src/const.h</code>. Navigate to <strong>lane 33</strong> and change the integer to the desired maximum number of loci. Or do this in the Terminal:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb25-1" title="1"><span class="fu">sed</span> -i -e <span class="st">'s/#define MAXLOCI               1000/#define MAXLOCI               20000/g'</span> rmetasim-master/src/const.h</a></code></pre></div>
</div>
<div id="makevars-configuration" class="section level3">
<h3 class="hasAnchor">
<a href="#makevars-configuration" class="anchor"></a>Makevars configuration</h3>
<p><em>rmetasim</em> requires these Makevars (<code>~/.R/Makevars</code> file) specifications. If you have other lines, comment (#) before compiling <code>rmetasim</code>:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb26-1" title="1"><span class="va">CC=</span>/usr/local/bin/clang <span class="co"># -fopenmp</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="va">CC=</span>/usr/local/bin/clang</a>
<a class="sourceLine" id="cb26-3" title="3"><span class="va">CXX=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb26-4" title="4"><span class="va">CXX1X=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb26-5" title="5"><span class="va">CXX11=</span>/usr/local/bin/clang++</a>
<a class="sourceLine" id="cb26-6" title="6"><span class="va">FLIBS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb26-7" title="7"><span class="va">CFLAGS=</span>-I/usr/local/include</a>
<a class="sourceLine" id="cb26-8" title="8"><span class="va">LDFLAGS=</span>-L/usr/local/lib</a>
<a class="sourceLine" id="cb26-9" title="9"><span class="va">CPPFLAGS=</span>-I/usr/local/include</a>
<a class="sourceLine" id="cb26-10" title="10"><span class="va">SHLIB_OPENMP_CFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb26-11" title="11"><span class="va">SHLIB_OPENMP_FCFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb26-12" title="12"><span class="va">SHLIB_OPENMP_FFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb26-13" title="13"><span class="va">SHLIB_OPENMP_CXXFLAGS=</span> <span class="ex">-fopenmp</span></a></code></pre></div>
</div>
<div id="compile" class="section level3">
<h3 class="hasAnchor">
<a href="#compile" class="anchor"></a>Compile</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb27-1" title="1"><span class="ex">R</span> CMD INSTALL <span class="st">"rmetasim-master"</span> <span class="co"># Terminal command</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="fu">sudo</span> rm -R rmetasim-master master.zip <span class="co"># to remove the folders no longer required</span></a></code></pre></div>
</div>
</div>
<div id="xgboost" class="section level2">
<h2 class="hasAnchor">
<a href="#xgboost" class="anchor"></a><code>XGBoost</code>
</h2>
<div id="download-the-github-version" class="section level3">
<h3 class="hasAnchor">
<a href="#download-the-github-version" class="anchor"></a>Download the github version</h3>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb28-1" title="1"><span class="co"># terminal</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb28-3" title="3"><span class="fu">git</span> clone --recursive https://github.com/dmlc/xgboost</a>
<a class="sourceLine" id="cb28-4" title="4"><span class="bu">cd</span> xgboost</a></code></pre></div>
</div>
<div id="error" class="section level3">
<h3 class="hasAnchor">
<a href="#error" class="anchor"></a>Error?</h3>
<p>If you’re getting this error: <code>"https" not supported or disabled in libcurl</code>, extra steps are required, <a href="#Installation_problems">check the installation problems section</a> to install <code>OpenSSL</code> and <code>curl</code> and enabling <code>https</code> with <code>--with-ssl</code> option.</p>
</div>
<div id="modification" class="section level3">
<h3 class="hasAnchor">
<a href="#modification" class="anchor"></a>Modification</h3>
<p>Modify in a text editor the <code>configure</code> file inside the <code>xgboost/R-package</code> folder:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb29-1" title="1"><span class="co"># Go to line 1676</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="co"># change</span></a>
<a class="sourceLine" id="cb29-3" title="3">  <span class="va">ac_pkg_openmp=</span>no</a>
<a class="sourceLine" id="cb29-4" title="4"><span class="co"># to</span></a>
<a class="sourceLine" id="cb29-5" title="5">  <span class="va">ac_pkg_openmp=</span>yes</a>
<a class="sourceLine" id="cb29-6" title="6"><span class="co">#save the file under the same name</span></a></code></pre></div>
</div>
<div id="makevars-configuration-1" class="section level3">
<h3 class="hasAnchor">
<a href="#makevars-configuration-1" class="anchor"></a>Makevars configuration</h3>
<p><code>XGBoost</code> requires these Makevars specifications. If you have other lines, comment (#) before compiling:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb30-1" title="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb30-2" title="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb30-3" title="3"><span class="va">CXX11=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb30-4" title="4"><span class="va">CXX14=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb30-5" title="5"><span class="va">CXX17=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb30-6" title="6"><span class="va">SHLIB_OPENMP_CFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb30-7" title="7"><span class="va">SHLIB_OPENMP_FCFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb30-8" title="8"><span class="va">SHLIB_OPENMP_FFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb30-9" title="9"><span class="va">SHLIB_OPENMP_CXXFLAGS=</span> <span class="ex">-fopenmp</span></a>
<a class="sourceLine" id="cb30-10" title="10"><span class="va">CFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=gnu99 -mtune=native -pipe</a>
<a class="sourceLine" id="cb30-11" title="11"><span class="va">CXXFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=c++11 -mtune=native -pipe</a>
<a class="sourceLine" id="cb30-12" title="12"><span class="va">LDFLAGS=</span>-L/usr/local/lib <span class="ex">-Wl</span>,-rpath,/usr/local/lib</a>
<a class="sourceLine" id="cb30-13" title="13"><span class="va">CPPFLAGS=</span>-I/usr/local/include <span class="ex">-I/usr/local/include</span></a></code></pre></div>
</div>
<div id="compile-1" class="section level3">
<h3 class="hasAnchor">
<a href="#compile-1" class="anchor"></a>Compile</h3>
<div class="sourceCode" id="cb31"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb31-1" title="1"><span class="fu">sudo</span> R CMD INSTALL R-package</a></code></pre></div>
</div>
<div id="test-r-package" class="section level3">
<h3 class="hasAnchor">
<a href="#test-r-package" class="anchor"></a>Test R-package</h3>
<p>You should see a time difference between both runs</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">require</a></span>(xgboost)</a>
<a class="sourceLine" id="cb32-2" title="2">x &lt;-<span class="st">  </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span><span class="op">*</span><span class="dv">10000</span>), <span class="dv">10000</span>, <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb32-3" title="3">y &lt;-<span class="st">  </span>x <span class="op">%*%</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">100</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/Normal">rnorm</a></span>(<span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb32-4" title="4"></a>
<a class="sourceLine" id="cb32-5" title="5"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>({bst =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/xgboost/topics/xgb.train">xgboost</a></span>(<span class="dt">data =</span> x, <span class="dt">label =</span> y, <span class="dt">nthread =</span> <span class="dv">1</span>, <span class="dt">nround =</span> <span class="dv">100</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>)})</a>
<a class="sourceLine" id="cb32-6" title="6"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/system.time">system.time</a></span>({bst =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/xgboost/topics/xgb.train">xgboost</a></span>(<span class="dt">data =</span> x, <span class="dt">label =</span> y, <span class="dt">nthread =</span> <span class="dv">4</span>, <span class="dt">nround =</span> <span class="dv">100</span>, <span class="dt">verbose =</span> <span class="ot">FALSE</span>)})</a></code></pre></div>
</div>
</div>
<div id="lightgbm" class="section level2">
<h2 class="hasAnchor">
<a href="#lightgbm" class="anchor"></a><code>LightGBM</code>
</h2>
<p><code>LightGBM</code> requires an OpenMP-enabled compiler. Currently, it doesn’t work well with clang, so make sure you have updated your GCC compiler (instructions above). Additionally, <code>LightGBM</code> requires <a href="https://cmake.org/overview/">CMake</a></p>
<div id="download-and-install-cmake" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install-cmake" class="anchor"></a>Download and install CMake</h3>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb33-1" title="1"><span class="co">#In browser or using wget in Terminal</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="ex">https</span>://cmake.org/files/v3.12/cmake-3.12.2-Darwin-x86_64.dmg</a>
<a class="sourceLine" id="cb33-3" title="3"><span class="co"># double-click on the disk image and follow instructions</span></a></code></pre></div>
<p>To add CMake to the PATH:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb34-1" title="1"><span class="va">PATH=</span><span class="st">"/Applications/CMake.app/Contents/bin"</span>:<span class="st">"</span><span class="va">$PATH</span><span class="st">"</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="co"># Or, to install symlinks to '/usr/local/bin', run:</span></a>
<a class="sourceLine" id="cb34-3" title="3"><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> --install</a>
<a class="sourceLine" id="cb34-4" title="4"><span class="co"># Or, to install symlinks to another directory, run:</span></a>
<a class="sourceLine" id="cb34-5" title="5"><span class="fu">sudo</span> <span class="st">"/Applications/CMake.app/Contents/bin/cmake-gui"</span> --install=/path/to/bin</a>
<a class="sourceLine" id="cb34-6" title="6"><span class="co">#Then, run the following commands to install LightGBM:</span></a></code></pre></div>
</div>
<div id="download-and-install-lightgbm" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install-lightgbm" class="anchor"></a>Download and Install LightGBM</h3>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb35-1" title="1"><span class="bu">cd</span> Downloads</a>
<a class="sourceLine" id="cb35-2" title="2"><span class="fu">git</span> clone --recursive https://github.com/Microsoft/LightGBM</a>
<a class="sourceLine" id="cb35-3" title="3"><span class="bu">cd</span> LightGBM</a>
<a class="sourceLine" id="cb35-4" title="4"><span class="ex">Rscript</span> build_r.R</a>
<a class="sourceLine" id="cb35-5" title="5"><span class="co"># previous version required running these lines instead</span></a>
<a class="sourceLine" id="cb35-6" title="6"><span class="co">#cd LightGBM/R-package</span></a>
<a class="sourceLine" id="cb35-7" title="7"><span class="co">#export CC=/usr/local/bin/gcc CXX=/usr/local/bin/g++</span></a>
<a class="sourceLine" id="cb35-8" title="8"><span class="co">#R CMD INSTALL --build . --no-multiarch</span></a></code></pre></div>
</div>
</div>
<div id="randomforestsrc" class="section level2">
<h2 class="hasAnchor">
<a href="#randomforestsrc" class="anchor"></a><code>randomForestSRC</code>
</h2>
<p><a href="http://web.ccs.miami.edu/~hishwaran/ishwaran.html">randomForestSRC</a> requires the GCC OpenMP-enabled compiler to run in parallel. See instructions above if not already done.</p>
<div id="makevars-configuration-2" class="section level3">
<h3 class="hasAnchor">
<a href="#makevars-configuration-2" class="anchor"></a>Makevars configuration</h3>
<p>Check that the lines below <strong>are not</strong> commented in your <code>~/.R/Makevars</code> file:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb36-1" title="1"><span class="va">CC=</span>/usr/local/bin/gcc</a>
<a class="sourceLine" id="cb36-2" title="2"><span class="va">CXX=</span>/usr/local/bin/g++</a>
<a class="sourceLine" id="cb36-3" title="3"><span class="va">CFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=gnu99 -mtune=native -pipe</a>
<a class="sourceLine" id="cb36-4" title="4"><span class="va">CXXFLAGS=</span>-g <span class="ex">-O3</span> -Wall -pedantic -std=c++11 -mtune=native -pipe</a>
<a class="sourceLine" id="cb36-5" title="5"><span class="va">PKG_CFLAGS=</span> <span class="ex">-O3</span> -Wall -pipe -pedantic -std=gnu99 -fopenmp</a>
<a class="sourceLine" id="cb36-6" title="6"><span class="va">PKG_CXXFLAGS=</span>-fopenmp <span class="ex">-std</span>=c++11</a>
<a class="sourceLine" id="cb36-7" title="7"><span class="va">FC=</span>/usr/local/bin/gfortran</a>
<a class="sourceLine" id="cb36-8" title="8"><span class="va">F77=</span>/usr/local/bin/gfortran</a></code></pre></div>
</div>
<div id="download-and-install" class="section level3">
<h3 class="hasAnchor">
<a href="#download-and-install" class="anchor"></a>Download and install</h3>
<p>From the Terminal run these steps to download and compile randomForestSRC:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb37-1" title="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb37-2" title="2"><span class="ex">curl</span> -O https://cran.r-project.org/src/contrib/randomForestSRC_2.7.0.tar.gz</a>
<a class="sourceLine" id="cb37-3" title="3"><span class="fu">tar</span> -zxvf randomForestSRC_2.7.0.tar.gz</a>
<a class="sourceLine" id="cb37-4" title="4"><span class="bu">cd</span> randomForestSRC</a>
<a class="sourceLine" id="cb37-5" title="5"><span class="fu">autoconf</span></a>
<a class="sourceLine" id="cb37-6" title="6"><span class="bu">cd</span> ..</a>
<a class="sourceLine" id="cb37-7" title="7"><span class="ex">R</span> CMD INSTALL --preclean --clean randomForestSRC</a></code></pre></div>
<p>You want to make sure that this line is printed during execution of the previous command: <code>checking whether OpenMP will work in a package... yes</code> or <code>checking for /usr/local/bin/gcc option to support OpenMP... -fopenmp</code></p>
<p>If the compilation fails after <code>autoconf</code>, follow the first 3 steps in this <a href="http://gbs-cloud-tutorial.readthedocs.io/en/latest/07_start_from_new_image.html?highlight=autoconf#install-gbs-radseq-software-time-required-30min">tutorial</a>, to install <code>libsigsegv</code>, <code>m4</code> and <code>autoconf</code>.</p>
</div>
</div>
<div id="ranger" class="section level2">
<h2 class="hasAnchor">
<a href="#ranger" class="anchor"></a><code>ranger</code>
</h2>
<p><a href="https://github.com/imbs-hl/ranger">ranger</a> is easy to install.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"ranger"</span>)</a></code></pre></div>
</div>
<div id="missranger" class="section level2">
<h2 class="hasAnchor">
<a href="#missranger" class="anchor"></a><code>missRanger</code>
</h2>
<p><a href="https://github.com/mayer79/missRanger">missRanger</a> is also very easy to install.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"missRanger"</span>)</a></code></pre></div>
</div>
<div id="pcamethods" class="section level2">
<h2 class="hasAnchor">
<a href="#pcamethods" class="anchor"></a><code>pcaMethods</code>
</h2>
<p>To install <a href="https://github.com/hredestig/pcaMethods">pcaMethods</a>, from bioconductor:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/source">source</a></span>(<span class="st">"https://bioconductor.org/biocLite.R"</span>)</a>
<a class="sourceLine" id="cb40-2" title="2"><span class="kw">biocLite</span>(<span class="st">"pcaMethods"</span>)</a></code></pre></div>
</div>
<div id="fastsimcoal2" class="section level2">
<h2 class="hasAnchor">
<a href="#fastsimcoal2" class="anchor"></a><code>fastsimcoal2</code>
</h2>
<p>To install <a href="http://cmpg.unibe.ch/software/fastsimcoal2/">fastsimcoal2 v.2.6.0.3</a>, to use in <code><a href="https://www.rdocumentation.org/packages/grur/topics/simulate_rad">grur::simulate_rad</a></code>:</p>
<div id="linux-1" class="section level3">
<h3 class="hasAnchor">
<a href="#linux-1" class="anchor"></a>LINUX</h3>
<div class="sourceCode" id="cb41"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb41-1" title="1"><span class="fu">wget</span> http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_linux64.zip</a>
<a class="sourceLine" id="cb41-2" title="2"><span class="fu">unzip</span> fsc26_linux64.zip</a>
<a class="sourceLine" id="cb41-3" title="3"><span class="fu">sudo</span> mv fsc26_linux64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></a></code></pre></div>
</div>
<div id="macos-1" class="section level3">
<h3 class="hasAnchor">
<a href="#macos-1" class="anchor"></a>MacOS</h3>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb42-1" title="1"><span class="bu">cd</span> ~/Downloads</a>
<a class="sourceLine" id="cb42-2" title="2"><span class="ex">curl</span> -O http://cmpg.unibe.ch/software/fastsimcoal2/downloads/fsc26_mac64.zip</a>
<a class="sourceLine" id="cb42-3" title="3"><span class="fu">unzip</span> fsc26_mac64.zip</a>
<a class="sourceLine" id="cb42-4" title="4"><span class="fu">sudo</span> mv fsc26_mac64/fsc26 /usr/local/bin/fsc26 <span class="co"># will ask for your computer password</span></a></code></pre></div>
</div>
<div id="common-to-both-os" class="section level3">
<h3 class="hasAnchor">
<a href="#common-to-both-os" class="anchor"></a>Common to both OS:</h3>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb43-1" title="1"><span class="fu">sudo</span> chmod 777 /usr/local/bin/fsc26</a>
<a class="sourceLine" id="cb43-2" title="2"><span class="ex">fsc26</span></a></code></pre></div>
<p>Re-start R and the software fastsimcoal2 will automatically be in your PATH…</p>
</div>
<div id="path" class="section level3">
<h3 class="hasAnchor">
<a href="#path" class="anchor"></a>PATH</h3>
<p>To see the path of the installation, in the <code>Terminal</code>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb44-1" title="1"><span class="fu">which</span> fsc26</a>
<a class="sourceLine" id="cb44-2" title="2"><span class="co"># in macOS:</span></a>
<a class="sourceLine" id="cb44-3" title="3"><span class="co"># /usr/local/bin/fsc26</span></a></code></pre></div>
<p>If that doesn’t work, do:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb45-1" title="1"><span class="bu">source</span> ~/.bash_profile</a></code></pre></div>
<p>Remove the files in the folder:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb46-1" title="1"><span class="fu">sudo</span> rm -R fsc26_mac64*</a></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#macos">macOS</a><ul class="nav nav-pills nav-stacked">
<li><a href="#apples-command-line-tools">Apple’s Command Line Tools</a></li>
      <li><a href="#compiler">Compiler</a></li>
      </ul>
</li>
      <li><a href="#linux">Linux</a></li>
      <li><a href="#install-r">Install R</a></li>
      <li><a href="#rstudio">Rstudio</a></li>
      <li><a href="#makevars-file">Makevars file</a></li>
      <li><a href="#installing-libraries">Installing Libraries</a></li>
      <li>
<a href="#Installation_problems">Installation problems</a><ul class="nav nav-pills nav-stacked">
<li><a href="#error-saying-https-not-supported-or-disabled-in-libcurl">Error saying “https” not supported or disabled in libcurl</a></li>
      <li><a href="#linux-related-problem">Linux related problem</a></li>
      <li><a href="#error-saying-error-vector-memory-exhausted-limit-reached">Error saying: Error: vector memory exhausted (limit reached)</a></li>
      <li><a href="#error-during-package-installation-string-h-or-math-h">Error during package installation: <code>string.h</code> or <code>math.h</code></a></li>
      <li><a href="#error--setmaxglobalsize">Error <code>.setMaxGlobalSize</code></a></li>
      <li><a href="#error-in--dynamicclustercall">Error in <code>.DynamicClusterCall</code></a></li>
      <li><a href="#error-during-install-when-numerous-of-packages-are-updated">Error during install when numerous of packages are updated:</a></li>
      <li><a href="#google-is-your-next-best-friend">Google is your next best friend…</a></li>
      </ul>
</li>
      <li>
<a href="#specific-librairies-installation">Specific librairies installation</a><ul class="nav nav-pills nav-stacked">
<li><a href="#rmetasim"><code>rmetasim</code></a></li>
      <li><a href="#xgboost"><code>XGBoost</code></a></li>
      <li><a href="#lightgbm"><code>LightGBM</code></a></li>
      <li><a href="#randomforestsrc"><code>randomForestSRC</code></a></li>
      <li><a href="#ranger"><code>ranger</code></a></li>
      <li><a href="#missranger"><code>missRanger</code></a></li>
      <li><a href="#pcamethods"><code>pcaMethods</code></a></li>
      <li><a href="#fastsimcoal2"><code>fastsimcoal2</code></a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Thierry Gosselin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
